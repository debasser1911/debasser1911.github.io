(this["webpackJsonpatlana-github-app"]=this["webpackJsonpatlana-github-app"]||[]).push([[0],{61:function(e,t,n){},62:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(35),a=n.n(s),i=n(13),j=n(3),o=n(8),l=n(14),u=n.n(l),b=n(74),d=n(75),h=n(76),O=n(10),f=n.n(O),x=n(16),p=n(15),g=n(73),v=n(0),m=function(e){var t=e.repo,n=void 0===t?{}:t;return Object(v.jsxs)("tr",{className:"repo-row",children:[Object(v.jsx)("td",{children:Object(v.jsx)("a",{href:n.html_url,target:"_blank",rel:"noreferrer",children:n.name})}),Object(v.jsxs)("td",{className:"repo-row_repo-info",children:[Object(v.jsxs)("span",{children:["Stars ",n.stargazers_count]}),"Forks ",n.forks_count]})]})},S=(n(61),function(e){var t=e.setSearchString,n=e.searchString,c=void 0===n?"":n;return Object(v.jsx)("div",{className:"user-search-bar d-flex flex-column justify-content-center",children:Object(v.jsx)("input",{placeholder:"search string",type:"text",value:c,onChange:function(e){return t(e.target.value)}})})}),w=(n(62),function(e){var t=e.user,n=void 0===t?null:t,r=Object(c.useState)([]),s=Object(o.a)(r,2),a=s[0],i=s[1],j=Object(c.useState)([]),l=Object(o.a)(j,2),b=l[0],d=l[1],h=Object(c.useState)(""),O=Object(o.a)(h,2),w=O[0],_=O[1],k=Object(c.useState)(1),N=Object(o.a)(k,2),y=N[0],E=N[1],I=Object(c.useRef)(null),L=function(){var e=Object(p.a)(f.a.mark((function e(t){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("".concat(n.repos_url,"?page=").concat(t));case 2:(c=e.sent).data&&i((function(e){return[].concat(Object(x.a)(e),Object(x.a)(c.data))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){Object(p.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object.keys(n).length&&L(y);case 1:case"end":return e.stop()}}),e)})))()}),[n]),Object(c.useEffect)((function(){d(a)}),[a]);var F=function(e){e[0].isIntersecting&&b.length<n.public_repos&&E((function(e){return e+1}))};return Object(c.useEffect)((function(){if(I.current){new IntersectionObserver(F,{root:null,rootMargin:"50px",threshold:1}).observe(I.current)}}),[I.current]),Object(c.useEffect)((function(){Object(p.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y>1&&L(y);case 1:case"end":return e.stop()}}),e)})))()}),[y]),Object(c.useEffect)((function(){"string"===typeof w&&a&&d(a.filter((function(e){return e.name.toLowerCase().includes(w.toLowerCase())})))}),[w]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h3",{children:"Search in repositories list"}),Object(v.jsx)(S,{searchString:w,setSearchString:_}),Object(v.jsxs)(g.a,{children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Repository name"}),Object(v.jsx)("th",{children:"Info"})]})}),Object(v.jsx)("tbody",{children:null===b||void 0===b?void 0:b.map((function(e,t){return Object(v.jsx)(m,{repo:e},t)}))})]}),(null===n||void 0===n?void 0:n.public_repos)!==(null===b||void 0===b?void 0:b.length)&&!w&&Object(v.jsx)("div",{className:"loading",ref:I,children:Object(v.jsx)("h2",{children:"Loading..."})})]})}),_=(n(68),function(){var e=function(){var e=Object(j.f)();return function(t){return e.push(t)}}();return Object(v.jsx)("header",{children:Object(v.jsx)(b.a,{children:Object(v.jsx)(d.a,{children:Object(v.jsx)(h.a,{className:"d-flex justify-content-center",children:Object(v.jsx)("h2",{onClick:function(){return e("/")},children:"Github searcher"})})})})})}),k=function(e){var t=e.children,n=void 0===t?{}:t;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(_,{}),n]})},N=(n(69),function(){var e=Object(c.useState)(null),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(j.g)();return Object(c.useEffect)((function(){s&&u.a.get("https://api.github.com/users/".concat(s.userLogin)).then((function(e){r(e.data)}))}),[s]),Object(v.jsx)(k,{children:Object(v.jsx)(b.a,{className:"user-page",children:n?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(d.a,{children:[Object(v.jsx)(h.a,{className:"d-flex justify-content-center",children:Object(v.jsx)("img",{src:n.avatar_url,alt:"avatar"})}),Object(v.jsxs)(h.a,{className:"d-flex flex-column user-page_user-info-block",children:[Object(v.jsxs)("span",{children:["Login ",Object(v.jsx)("strong",{children:n.login})]}),Object(v.jsxs)("span",{children:["Followers ",Object(v.jsx)("strong",{children:n.followers})]}),Object(v.jsxs)("span",{children:["Following ",Object(v.jsx)("strong",{children:n.following})]}),Object(v.jsxs)("span",{children:["E-Mail ",Object(v.jsx)("strong",{children:n.email})]}),Object(v.jsxs)("span",{children:["Location ",Object(v.jsx)("strong",{children:n.location})]}),Object(v.jsxs)("span",{children:["User created"," ",Object(v.jsx)("strong",{children:(new Date).toUTCString(n.created_at)})]}),Object(v.jsxs)("span",{children:["Bio ",Object(v.jsx)("strong",{children:n.bio})]})]})]}),Object(v.jsx)(d.a,{children:Object(v.jsx)(h.a,{children:Object(v.jsx)(w,{user:n})})})]}):"loading..."})})}),y=n(25),E=(n(70),function(e){var t=e.user,n=void 0===t?{}:t;return Object(v.jsxs)("tr",{className:"user-block",children:[Object(v.jsx)("td",{children:Object(v.jsx)("img",{src:null===n||void 0===n?void 0:n.avatar_url,alt:"avatar"})}),Object(v.jsx)("td",{children:Object(v.jsx)(i.b,{to:function(e){return Object(y.a)(Object(y.a)({},e),{},{pathname:"/user/".concat(null===n||void 0===n?void 0:n.login)})},children:Object(v.jsx)("p",{children:null===n||void 0===n?void 0:n.login})})}),Object(v.jsx)("td",{children:Object(v.jsx)("a",{href:null===n||void 0===n?void 0:n.repos_url,target:"_blank",rel:"noreferrer",children:null===n||void 0===n?void 0:n.repos_url})})]})}),I=function(e){var t=e.users,n=void 0===t?[]:t,c=e.loaderRef,r=e.totalUsers;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"users-table",children:Object(v.jsxs)(g.a,{striped:!0,bordered:!0,hover:!0,children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Avatar"}),Object(v.jsx)("th",{children:"Name"}),Object(v.jsx)("th",{children:"Repos"})]})}),Object(v.jsx)("tbody",{children:n&&0!==n.length&&n.map((function(e,t){return Object(v.jsx)(E,{user:e},t)}))})]})}),(null===n||void 0===n?void 0:n.length)!==r&&Object(v.jsx)("div",{className:"loading",ref:c,children:Object(v.jsx)("h2",{children:"Loading..."})})]})},L=(n(71),function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(0),a=Object(o.a)(s,2),i=a[0],j=a[1],l=Object(c.useState)(""),d=Object(o.a)(l,2),h=d[0],O=d[1],g=Object(c.useState)(1),m=Object(o.a)(g,2),w=m[0],_=m[1],N=Object(c.useRef)(null),y=function(){var e=Object(p.a)(f.a.mark((function e(t,n){var c,s,a=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.length>2&&void 0!==a[2]&&a[2],e.next=3,u.a.get("https://api.github.com/search/users?q=".concat(t,"&page=").concat(n));case 3:(s=e.sent).data&&(j(s.data.total_count),r(c?s.data.items:function(e){return[].concat(Object(x.a)(e),Object(x.a)(s.data.items))}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=function(e){e[0].isIntersecting&&n.length<i&&_((function(e){return e+1}))};return Object(c.useEffect)((function(){O(sessionStorage.getItem("search"))}),[]),Object(c.useEffect)((function(){if(N.current){new IntersectionObserver(E,{root:null,rootMargin:"200px",threshold:1}).observe(N.current)}}),[N.current]),Object(c.useEffect)((function(){w>1&&y(h,w)}),[w]),Object(c.useEffect)((function(){h?(_(1),y(h,1,!0)):(r([]),j(0)),null!==h&&sessionStorage.setItem("search",h)}),[h]),Object(v.jsx)(k,{children:Object(v.jsxs)(b.a,{className:"user-search-page",children:[Object(v.jsx)("h2",{children:"User search page"}),Object(v.jsxs)("h3",{children:["Users (",i,")"]}),Object(v.jsx)(S,{searchString:h,setSearchString:O}),Object(v.jsx)(I,{users:n,loaderRef:N,totalUsers:i})]})})}),F=function(){return Object(v.jsx)(i.a,{children:Object(v.jsxs)(j.c,{children:[Object(v.jsx)(j.a,{exact:!0,path:"/",component:L}),Object(v.jsx)(j.a,{exact:!0,path:"/user/:userLogin",component:N})]})})};var R=function(){return Object(v.jsx)(F,{})};a.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(R,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.16b433a2.chunk.js.map