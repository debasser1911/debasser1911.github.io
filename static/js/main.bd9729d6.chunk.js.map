{"version":3,"sources":["Components/Error/index.jsx","Components/RepoRow/index.jsx","Components/SearchBar/index.jsx","Components/ReposTable/index.jsx","Components/User/index.jsx","Components/Header/index.jsx","Layout/MainLayout.jsx","utils/api.js","utils/constants.js","Pages/UserPage/index.jsx","Components/UserRow/index.jsx","Components/UsersTable/index.jsx","Pages/UserSearchPage/index.jsx","System/Router.js","System/App.js","index.js"],"names":["Error","error","className","status","data","message","RepoRow","repo","href","html_url","target","rel","name","stargazers_count","forks_count","SearchBar","setSearchString","searchString","placeholder","type","value","onChange","e","max","ReposTable","user","useState","repositories","setRepositories","filtered","setFiltered","page","setPage","loaderRef","useRef","getReposAction","a","axios","get","repos_url","response","prev","useEffect","Object","keys","length","handleObserver","entities","isIntersecting","public_repos","current","IntersectionObserver","root","rootMargin","threshold","observe","filter","toLowerCase","includes","map","index","ref","User","login","followers","following","email","location","Date","toUTCString","created_at","bio","Header","history","useHistory","onClick","push","MainLayout","children","require","default","api","create","baseURL","UserPage","setUser","searchedUser","useParams","setError","userLogin","src","avatar_url","alt","UserRow","to","pathname","UsersTable","users","totalUsers","UserSearchPage","setUsers","setTotalUsers","userSearchLoadRef","getUsersAction","isNewSearch","total_count","items","console","log","sessionStorage","getItem","setItem","Router","exact","path","component","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bd9729d6.chunk.js","sourcesContent":["const Error = ({ error }) => (\r\n  <h1 className=\"text-center text-3xl\">\r\n    Houston, we have a ploblem!\r\n    <br />\r\n    {error.status} {error.data.message}\r\n  </h1>\r\n);\r\n\r\nexport default Error;\r\n","const RepoRow = ({ repo = {} }) => (\r\n  <tr className=\"repo-row border-2 border-gray-200\">\r\n    <td className=\" p-3 border-2 border-gray-200\">\r\n      <a href={repo.html_url} target=\"_blank\" rel=\"noreferrer\">\r\n        {repo.name}\r\n      </a>\r\n    </td>\r\n\r\n    <td className=\"repo-row_repo-info p-3\">\r\n      <strong>Stars &#11088; :</strong> <i>{repo.stargazers_count}</i>\r\n      <br />\r\n      <strong>Forks &#10542; :</strong> <i>{repo.forks_count}</i>\r\n    </td>\r\n  </tr>\r\n);\r\nexport default RepoRow;\r\n","const SearchBar = ({\r\n  setSearchString,\r\n  searchString = \"\",\r\n  placeholder = \"\",\r\n}) => {\r\n  return (\r\n    <div className=\"user-search-bar flex justify-center p-5\">\r\n      <input\r\n        className=\"border-2 border-gray-500 w-2/6  p-1\"\r\n        placeholder={placeholder}\r\n        type=\"text\"\r\n        value={searchString}\r\n        onChange={(e) => setSearchString(e.target.value)}\r\n        max={100}\r\n      />\r\n    </div>\r\n  );\r\n};\r\nexport default SearchBar;\r\n","import axios from \"axios\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport RepoRow from \"../RepoRow\";\r\nimport SearchBar from \"../SearchBar\";\r\n\r\nconst ReposTable = ({ user = null }) => {\r\n  const [repositories, setRepositories] = useState([]);\r\n  const [filtered, setFiltered] = useState([]);\r\n  const [searchString, setSearchString] = useState(\"\");\r\n  const [page, setPage] = useState(1);\r\n  const loaderRef = useRef(null);\r\n\r\n  const getReposAction = async (page) => {\r\n    const response = await axios.get(`${user.repos_url}?page=${page}`);\r\n\r\n    if (response.data) {\r\n      setRepositories((prev) => [...prev, ...response.data]);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(user).length) {\r\n      getReposAction(page);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    setFiltered(repositories);\r\n  }, [repositories]);\r\n\r\n  const handleObserver = (entities) => {\r\n    const target = entities[0];\r\n    if (target.isIntersecting) {\r\n      if (filtered.length < user.public_repos) {\r\n        setPage((page) => {\r\n          let newPage = page + 1;\r\n          return newPage;\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (loaderRef.current) {\r\n      let options = {\r\n        root: null,\r\n        rootMargin: \"50px\",\r\n        threshold: 1.0,\r\n      };\r\n      const observer = new IntersectionObserver(handleObserver, options);\r\n      observer.observe(loaderRef.current);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [loaderRef.current]);\r\n\r\n  useEffect(() => {\r\n    if (page > 1) {\r\n      getReposAction(page);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [page]);\r\n\r\n  useEffect(() => {\r\n    if (typeof searchString === \"string\" && repositories) {\r\n      setFiltered(\r\n        repositories.filter((repo) =>\r\n          repo.name.toLowerCase().includes(searchString.toLowerCase())\r\n        )\r\n      );\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchString]);\r\n\r\n  return (\r\n    <div className=\"flex flex-col justify-center\">\r\n      <SearchBar\r\n        searchString={searchString}\r\n        setSearchString={setSearchString}\r\n        placeholder={\"Search in repositories list\"}\r\n      />\r\n      <div className=\"flex justify-center auto-cols-max\">\r\n        <table className=\"w-2/3 table table-auto\">\r\n          <thead className=\"border-4 border-gray-500\">\r\n            <tr>\r\n              <th>Repository name</th>\r\n              <th>Info</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {filtered?.map((repo, index) => (\r\n              <RepoRow repo={repo} key={index} />\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      {user?.public_repos !== filtered?.length && !searchString && (\r\n        <div className=\"container\" ref={loaderRef}>\r\n          <h2>Loading...</h2>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReposTable;\r\n","const User = ({ user = {} }) => (\r\n  <div className=\"flex flex-col w-72 user-page_user-info-block\">\r\n    <span>\r\n      Login <strong>{user?.login}</strong>\r\n    </span>\r\n    <span>\r\n      Followers <strong>{user?.followers}</strong>\r\n    </span>\r\n    <span>\r\n      Following <strong>{user?.following}</strong>\r\n    </span>\r\n    <span>\r\n      E-Mail <strong>{user?.email}</strong>\r\n    </span>\r\n    <span>\r\n      Location <strong>{user?.location}</strong>\r\n    </span>\r\n    <span>\r\n      User created <strong>{new Date().toUTCString(user?.created_at)}</strong>\r\n    </span>\r\n    <span>\r\n      Bio <strong>{user?.bio}</strong>\r\n    </span>\r\n  </div>\r\n);\r\n\r\nexport default User;\r\n","import { useHistory } from \"react-router-dom\";\r\n\r\nconst Header = () => {\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <header className=\"h-20 shadow-md\">\r\n      <div className=\"container flex justify-center items-center h-full\">\r\n        <h1\r\n          className=\"text-center text-2xl cursor-pointer\"\r\n          onClick={() => history.push(\"/\")}\r\n        >\r\n          Github searcher\r\n        </h1>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\nexport default Header;\r\n","import Header from \"../Components/Header\";\r\n\r\nconst MainLayout = ({ children = {} }) => (\r\n  <>\r\n    <Header />\r\n    {children}\r\n  </>\r\n);\r\n\r\nexport default MainLayout;\r\n","import { apiURL } from \"./constants\";\r\nconst { default: axios } = require(\"axios\");\r\n\r\nexport const api = () => axios.create({ baseURL: apiURL });\r\n","export const apiURL = \"https://api.github.com\"","import { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Error from \"../../Components/Error\";\r\nimport ReposTable from \"../../Components/ReposTable\";\r\nimport User from \"../../Components/User\";\r\nimport MainLayout from \"../../Layout/MainLayout\";\r\nimport { api } from \"../../utils/api\";\r\n\r\nconst UserPage = () => {\r\n  const [user, setUser] = useState(null);\r\n  const searchedUser = useParams();\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (searchedUser) {\r\n        try {\r\n          const response = await api().get(`/users/${searchedUser.userLogin}`);\r\n          setUser(response.data);\r\n        } catch (e) {\r\n          setError(e.response);\r\n        }\r\n      }\r\n    })();\r\n  }, [searchedUser]);\r\n\r\n  return (\r\n    <MainLayout>\r\n      <div className=\"container flex flex-col user-page mt-20\">\r\n        {user ? (\r\n          <>\r\n            <div className=\"flex justify-evenly user-page-block\">\r\n              <img className=\"h-44\" src={user.avatar_url} alt=\"avatar\" />\r\n              <User user={user} />\r\n            </div>\r\n            <ReposTable user={user} />\r\n          </>\r\n        ) : error ? (\r\n          <Error error={error} />\r\n        ) : (\r\n          <h1 className=\"text-center text-3xl\">Loading...</h1>\r\n        )}\r\n      </div>\r\n    </MainLayout>\r\n  );\r\n};\r\nexport default UserPage;\r\n","import { Link } from \"react-router-dom\";\r\n\r\nconst UserRow = ({ user = {} }) => (\r\n  <tr className=\"user-row border-2 border-gray-200\">\r\n    <td className=\" p-3 border-2 border-gray-200\">\r\n      <img className=\"w-28\" src={user?.avatar_url} alt=\"avatar\" />\r\n    </td>\r\n    <td className=\" p-3 border-2 border-gray-200\">\r\n      <Link\r\n        to={(location) => ({ ...location, pathname: `/user/${user?.login}` })}\r\n      >\r\n        <strong>{user?.login}</strong>\r\n      </Link>\r\n    </td>\r\n    <td className=\" p-3 border-2 border-gray-200\">\r\n      <a href={user?.repos_url} target=\"_blank\" rel=\"noreferrer\">\r\n        User repositories page\r\n      </a>\r\n    </td>\r\n  </tr>\r\n);\r\n\r\nexport default UserRow;\r\n","import UserRow from \"../UserRow\";\r\n\r\nconst UsersTable = ({ users = [], loaderRef, totalUsers }) => (\r\n  <>\r\n    <div className=\"users-table flex flex-col items-center\">\r\n      <h2 className=\"text-2xl font-bold p-3\">\r\n        Total users found - {totalUsers}\r\n      </h2>\r\n      <table className=\"w-2/3 table-auto\">\r\n        <thead className=\"border-4 border-gray-500\">\r\n          <tr>\r\n            <th>Avatar</th>\r\n            <th>Name</th>\r\n            <th>Repos</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {users &&\r\n            users.length !== 0 &&\r\n            users.map((user, index) => <UserRow key={index} user={user} />)}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    {users?.length !== totalUsers && (\r\n      <div className=\"loading\" ref={loaderRef}>\r\n        <h2>Loading...</h2>\r\n      </div>\r\n    )}\r\n  </>\r\n);\r\n\r\nexport default UsersTable;\r\n","import { useEffect, useRef, useState } from \"react\";\r\nimport SearchBar from \"../../Components/SearchBar\";\r\nimport UsersTable from \"../../Components/UsersTable\";\r\nimport MainLayout from \"../../Layout/MainLayout\";\r\nimport { api } from \"../../utils/api\";\r\n\r\nconst UserSearchPage = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [totalUsers, setTotalUsers] = useState(0);\r\n  const [searchString, setSearchString] = useState(\"\");\r\n  const [page, setPage] = useState(1);\r\n  const userSearchLoadRef = useRef(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  const getUsersAction = async (searchString, page, isNewSearch = false) => {\r\n    try {\r\n      const response = await api().get(\r\n        `/search/users?q=${searchString}&page=${page}`\r\n      );\r\n      if (response.data) {\r\n        setTotalUsers(response.data.total_count);\r\n        if (isNewSearch) {\r\n          setUsers(response.data.items);\r\n        } else {\r\n          setUsers((prev) => [...prev, ...response.data.items]);\r\n        }\r\n      }\r\n    } catch (e) {\r\n      setError(e.response?.data?.message);\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const handleObserver = (entities) => {\r\n    const target = entities[0];\r\n    if (target.isIntersecting) {\r\n      if (users.length < totalUsers) {\r\n        setPage((page) => {\r\n          let newPage = page + 1;\r\n          return newPage;\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setSearchString(sessionStorage.getItem(\"search\"));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (userSearchLoadRef.current) {\r\n      let options = {\r\n        root: null,\r\n        rootMargin: \"200px\",\r\n        threshold: 1.0,\r\n      };\r\n      const observer = new IntersectionObserver(handleObserver, options);\r\n      observer.observe(userSearchLoadRef.current);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [userSearchLoadRef.current]);\r\n\r\n  useEffect(() => {\r\n    if (page > 1) {\r\n      getUsersAction(searchString, page);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [page]);\r\n\r\n  useEffect(() => {\r\n    if (searchString) {\r\n      setPage(1);\r\n      getUsersAction(searchString, 1, true);\r\n    } else {\r\n      setUsers([]);\r\n      setTotalUsers(0);\r\n    }\r\n    if (searchString !== null) {\r\n      sessionStorage.setItem(\"search\", searchString);\r\n    }\r\n  }, [searchString]);\r\n\r\n  return (\r\n    <MainLayout>\r\n      <div className=\"container user-search-page mt-20\">\r\n        <SearchBar\r\n          searchString={searchString}\r\n          setSearchString={setSearchString}\r\n          placeholder={\"Please enter GitHub user name/login\"}\r\n        />\r\n        <UsersTable\r\n          users={users}\r\n          loaderRef={userSearchLoadRef}\r\n          totalUsers={totalUsers}\r\n        />\r\n      </div>\r\n    </MainLayout>\r\n  );\r\n};\r\nexport default UserSearchPage;\r\n","import { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport UserPage from \"../Pages/UserPage\";\r\nimport UserSearchPage from \"../Pages/UserSearchPage\";\r\n\r\nconst Router = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route exact path=\"/\" component={UserSearchPage} />\r\n        <Route exact path=\"/user/:userLogin\" component={UserPage} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\nexport default Router;\r\n","import Router from \"./Router\";\r\nimport \"./App.css\";\r\n\r\nconst App = () => <Router />;\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./System/App\";\r\n\r\nif (module.hot) {\r\n  module.hot.accept();\r\n}\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}